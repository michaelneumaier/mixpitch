let q=!1;function M(){if(q){console.log("Hero.js: Components already initialized, skipping...");return}q=!0,console.log("Hero.js: Initializing hero components...");try{const a=document.getElementById("artist-toggle"),c=document.getElementById("producer-toggle"),f=document.querySelector(".toggle-indicator"),z=document.getElementById("artist-content"),E=document.getElementById("producer-content");if(a&&c&&f){console.log("Hero.js: Role toggle elements found, setting up toggle functionality...");const t=()=>{const r=document.querySelector(".role-toggle-btn.active");r===c?(f.style.transform="translateX(0)",f.style.width=`${c.offsetWidth-8}px`):r===a&&(f.style.transform=`translateX(${c.offsetWidth}px)`,f.style.width=`${a.offsetWidth-8}px`)};t(),window.addEventListener("resize",t);const e=(r,n,s,d)=>{r.classList.add("active","text-white"),n.classList.remove("active","text-white"),n.classList.add("text-white/70"),t(),d.style.opacity="0",d.style.transform="translateY(20px)",setTimeout(()=>{d.classList.add("hidden"),d.classList.remove("active"),s.classList.remove("hidden"),s.classList.add("active"),s.style.opacity="0",s.style.transform="translateY(20px)",requestAnimationFrame(()=>{s.style.transition="all 0.5s ease-out",s.style.opacity="1",s.style.transform="translateY(0)"})},200)};a.addEventListener("click",()=>{a.classList.contains("active")||e(a,c,z,E)}),c.addEventListener("click",()=>{c.classList.contains("active")||e(c,a,E,z)})}else console.warn("Hero.js: Role toggle elements not found:",{artistToggle:!!a,producerToggle:!!c,toggleIndicator:!!f});const g=document.getElementById("audio-visualizer");g&&(console.log("Hero.js: Audio visualizer element found, initializing optimized canvas..."),g.innerHTML="",requestAnimationFrame(()=>{requestAnimationFrame(()=>{const t=document.createElement("canvas");t.width=g.offsetWidth,t.height=g.offsetHeight,g.appendChild(t);const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=t.getContext("2d"),n=e.getContext("2d");t.style.willChange="transform";let s,d=0;const p=1e3/30,h={barCount:Math.min(60,Math.floor(t.width/12)),colors:[{r:59,g:130,b:246},{r:147,g:51,b:234},{r:236,g:72,b:153}],waveSpeed:.015,amplitude:.7},l=Math.max(4,t.width/h.barCount),$=l+3,S=h.colors.map(o=>({normal:`rgba(${o.r}, ${o.g}, ${o.b}, 0.7)`,glow:`rgba(${o.r}, ${o.g}, ${o.b}, 0.3)`,...o})),w=1024,C=new Float32Array(w);for(let o=0;o<w;o++)C[o]=Math.sin(o/w*Math.PI*2);function F(o){const m=Math.floor(o%(Math.PI*2)/(Math.PI*2)*w)%w;return C[m]}function x(o){if(o-d<p){s=requestAnimationFrame(x);return}d=o;const m=o/1e3;n.clearRect(0,0,e.width,e.height);const I=[];for(let i=0;i<h.barCount;i++){const R=(m*1.8+i*.12)%(Math.PI*2),B=(m*1.2+i*.18)%(Math.PI*2),k=F(R)*.5+.5,D=F(B)*.3+.3,b=(k+D)*.5*t.height*h.amplitude,X=Math.floor((i/h.barCount+m*.08)%1*S.length),P=S[X],j=i*$,A=t.height-b;n.fillStyle=P.normal,n.fillRect(j,A,l,b),i%3===0&&I.push({x:j,y:A,width:l,height:b,color:P.glow})}I.length>0&&(n.shadowBlur=8,I.forEach(i=>{n.shadowColor=i.color,n.fillStyle=i.color,n.fillRect(i.x,i.y,i.width,i.height)}),n.shadowBlur=0),r.clearRect(0,0,t.width,t.height),r.drawImage(e,0,0),s=requestAnimationFrame(x)}x(performance.now());let T;window.addEventListener("resize",()=>{clearTimeout(T),T=setTimeout(()=>{const o=g.offsetWidth,m=g.offsetHeight;t.width=o,t.height=m,e.width=o,e.height=m,h.barCount=Math.min(60,Math.floor(o/12))},250)})})}));const u=document.getElementById("particles-container");if(u){let p=function(l){if(l-s<d){requestAnimationFrame(p);return}s=l,e.clearRect(0,0,t.width,t.height),r.forEach(v=>{v.update(),v.draw()}),requestAnimationFrame(p)};var Y=p;const t=document.createElement("canvas");t.width=u.offsetWidth,t.height=u.offsetHeight,u.appendChild(t);const e=t.getContext("2d"),r=[],n=25;let s=0;const d=1e3/20;class H{constructor(){this.reset(),this.y=Math.random()*t.height}reset(){this.x=Math.random()*t.width,this.y=-10,this.size=Math.random()*2+1,this.speedY=Math.random()*1.5+.3,this.speedX=(Math.random()-.5)*.3,this.opacity=Math.random()*.4+.1,this.color=`rgba(255, 255, 255, ${this.opacity})`}update(){this.y+=this.speedY,this.x+=this.speedX,this.y>t.height+10&&this.reset(),(this.x<0||this.x>t.width)&&(this.speedX*=-1)}draw(){e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fillStyle=this.color,e.fill()}}for(let l=0;l<n;l++)r.push(new H);p(performance.now());let h;window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{t.width=u.offsetWidth,t.height=u.offsetHeight},250)})}const W={threshold:.1,rootMargin:"0px 0px -50px 0px"},O=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-fade-in-up")})},W);document.querySelectorAll(".animate-on-scroll").forEach(t=>{O.observe(t)});let y=!0;document.addEventListener("visibilitychange",()=>{y=!document.hidden,y?g&&drawOptimizedVisualizer(performance.now()):animationId&&cancelAnimationFrame(animationId)});const L=document.querySelector(".animate-gradient-x");if(L){let e=function(){t+=.5,L.style.backgroundPosition=`${t}% 50%`,y&&requestAnimationFrame(e)};var V=e;let t=0;e()}console.log("Hero.js: Hero components initialization completed successfully")}catch(a){console.error("Hero.js: Error during initialization:",a),console.error("Hero.js: Stack trace:",a.stack)}}console.log("Hero.js: Script loaded, document.readyState:",document.readyState);document.readyState==="loading"?(console.log("Hero.js: Waiting for DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",function(){console.log("Hero.js: DOMContentLoaded event fired"),M()})):(console.log("Hero.js: DOM already loaded, initializing immediately"),M());document.addEventListener("alpine:init",function(){console.log("Hero.js: Alpine initialized, initializing hero components with delay..."),setTimeout(M,100)});
