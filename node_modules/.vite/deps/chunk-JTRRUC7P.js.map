{
  "version": 3,
  "sources": ["../../namespace-emitter/index.js", "../../lodash/isObject.js", "../../lodash/_freeGlobal.js", "../../lodash/_root.js", "../../lodash/now.js", "../../lodash/_trimmedEndIndex.js", "../../lodash/_baseTrim.js", "../../lodash/_Symbol.js", "../../lodash/_getRawTag.js", "../../lodash/_objectToString.js", "../../lodash/_baseGetTag.js", "../../lodash/isObjectLike.js", "../../lodash/isSymbol.js", "../../lodash/toNumber.js", "../../lodash/debounce.js", "../../lodash/throttle.js", "../../@transloadit/prettier-bytes/src/prettierBytes.ts", "../../wildcard/index.js", "../../mime-match/index.js", "../../@uppy/utils/lib/Translator.js", "../../@uppy/core/lib/Uppy.js", "../../@uppy/core/node_modules/nanoid/non-secure/index.js", "../../@uppy/store-default/lib/index.js", "../../@uppy/utils/lib/getFileNameAndExtension.js", "../../@uppy/utils/lib/mimeTypes.js", "../../@uppy/utils/lib/getFileType.js", "../../@uppy/utils/lib/generateFileID.js", "../../@uppy/core/lib/supportsUploadProgress.js", "../../@uppy/core/lib/getFileName.js", "../../@uppy/utils/lib/getTimeStamp.js", "../../@uppy/core/lib/loggers.js", "../../@uppy/core/lib/Restricter.js", "../../@uppy/core/lib/locale.js", "../../preact/src/constants.js", "../../preact/src/util.js", "../../preact/src/options.js", "../../preact/src/create-element.js", "../../preact/src/component.js", "../../preact/src/diff/props.js", "../../preact/src/create-context.js", "../../preact/src/diff/children.js", "../../preact/src/diff/index.js", "../../preact/src/render.js", "../../preact/src/clone-element.js", "../../preact/src/diff/catch-error.js", "../../preact/hooks/src/index.js", "../../preact/compat/src/util.js", "../../preact/compat/src/hooks.js", "../../preact/compat/src/PureComponent.js", "../../preact/compat/src/memo.js", "../../preact/compat/src/forwardRef.js", "../../preact/compat/src/Children.js", "../../preact/compat/src/suspense.js", "../../preact/compat/src/suspense-list.js", "../../preact/src/constants.js", "../../preact/compat/src/portals.js", "../../preact/compat/src/render.js", "../../preact/compat/src/index.js", "../../@uppy/utils/lib/isDOMElement.js", "../../@uppy/utils/lib/findDOMElement.js", "../../@uppy/utils/lib/getTextDirection.js", "../../@uppy/core/lib/BasePlugin.js", "../../@uppy/core/lib/UIPlugin.js"],
  "sourcesContent": ["/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event – the name of the event, with optional namespace\n  * @param {...*} data – up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn] – the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n", "var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n", "/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n", "var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n", "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n", "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n", "var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n", "var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n", "var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n", "// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nexport = function prettierBytes(input: number): string {\n  if (typeof input !== 'number' || Number.isNaN(input)) {\n    throw new TypeError(`Expected a number, got ${typeof input}`)\n  }\n\n  const neg = input < 0\n  let num = Math.abs(input)\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num === 0) {\n    return '0 B'\n  }\n\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  const value = Number(num / 1024 ** exponent)\n  const unit = units[exponent]\n\n  return `${value >= 10 || value % 1 === 0 ? Math.round(value) : value.toFixed(1)} ${unit}`\n}\n", "/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n", "var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n// We're using a generic because languages have different plural rules.\n\n// eslint-disable-next-line no-use-before-define\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      }\n\n      // Interlace with the `replacement` value\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param phrase that needs interpolation, with placeholders\n * @param options with values that will be used to replace placeholders\n */\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      }\n      // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n  return interpolated;\n}\nconst defaultOnMissingKey = key => {\n  throw new Error(`missing string: ${key}`);\n};\n\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\nvar _onMissingKey = /*#__PURE__*/_classPrivateFieldLooseKey(\"onMissingKey\");\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\nexport default class Translator {\n  constructor(locales, _temp) {\n    let {\n      onMissingKey = defaultOnMissingKey\n    } = _temp === void 0 ? {} : _temp;\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    Object.defineProperty(this, _onMissingKey, {\n      writable: true,\n      value: void 0\n    });\n    this.locale = {\n      strings: {},\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n        return 1;\n      }\n    };\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n    _classPrivateFieldLooseBase(this, _onMissingKey)[_onMissingKey] = onMissingKey;\n  }\n  /**\n   * Public translate method\n   *\n   * @param key\n   * @param options with values that will be used later to replace placeholders in string\n   * @returns string translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @returns The translated and interpolated parts, in order.\n   */\n  translateArray(key, options) {\n    let string = this.locale.strings[key];\n    if (string == null) {\n      _classPrivateFieldLooseBase(this, _onMissingKey)[_onMissingKey](key);\n      string = key;\n    }\n    const hasPluralForms = typeof string === 'object';\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n    if (typeof string !== 'string') {\n      throw new Error(`string was not a string`);\n    }\n    return interpolate(string, options);\n  }\n}\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n  const prevLocale = this.locale;\n  Object.assign(this.locale, {\n    strings: {\n      ...prevLocale.strings,\n      ...locale.strings\n    },\n    pluralize: locale.pluralize || prevLocale.pluralize\n  });\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n/* eslint-disable max-classes-per-file */\n/* global AggregateError */\n\nimport Translator from '@uppy/utils/lib/Translator';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash/throttle.js';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport { getSafeFileId } from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from './supportsUploadProgress.js';\nimport getFileName from './getFileName.js';\nimport { justErrorsLogger, debugLogger } from './loggers.js';\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from './Restricter.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.4.7\"\n};\nimport locale from './locale.js';\n\n/**\n * ids are always `string`s, except the root folder's id can be `null`\n */\n\n/**\n * PartialTree has the following structure.\n *\n *           FolderRoot\n *         ┌─────┴─────┐\n *     FolderNode     File\n *   ┌─────┴────┐\n *  File      File\n *\n * Root folder is called `PartialTreeFolderRoot`,\n * all other folders are called `PartialTreeFolderNode`, because they are \"internal nodes\".\n *\n * It's possible for `PartialTreeFolderNode` to be a leaf node if it doesn't contain any files.\n */\n\n/**\n * This is a base for a provider that does not necessarily use the Companion-assisted OAuth2 flow\n */\n\n/*\n * UnknownProviderPlugin can be any Companion plugin (such as Google Drive)\n * that uses the Companion-assisted OAuth flow.\n * As the plugins are passed around throughout Uppy we need a generic type for this.\n * It may seems like duplication, but this type safe. Changing the type of `storage`\n * will error in the `Provider` class of @uppy/companion-client and vice versa.\n *\n * Note that this is the *plugin* class, not a version of the `Provider` class.\n * `Provider` does operate on Companion plugins with `uppy.getPlugin()`.\n */\n\n/*\n * UnknownSearchProviderPlugin can be any search Companion plugin (such as Unsplash).\n * As the plugins are passed around throughout Uppy we need a generic type for this.\n * It may seems like duplication, but this type safe. Changing the type of `title`\n * will error in the `SearchProvider` class of @uppy/companion-client and vice versa.\n *\n * Note that this is the *plugin* class, not a version of the `SearchProvider` class.\n * `SearchProvider` does operate on Companion plugins with `uppy.getPlugin()`.\n */\n\n// TODO: can we use namespaces in other plugins to populate this?\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\n\n// The user facing type for UppyOptions used in uppy.setOptions()\n\n/** `OmitFirstArg<typeof someArray>` is the type of the returned value of `someArray.slice(1)`. */\n\nconst defaultUploadState = {\n  totalProgress: 0,\n  allowNewUpload: true,\n  error: null,\n  recoveredState: null\n};\n\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\nvar _transformFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"transformFile\");\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\nvar _checkAndUpdateFileState = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndUpdateFileState\");\nvar _getFilesToRetry = /*#__PURE__*/_classPrivateFieldLooseKey(\"getFilesToRetry\");\nvar _doRetryAll = /*#__PURE__*/_classPrivateFieldLooseKey(\"doRetryAll\");\nvar _handleUploadProgress = /*#__PURE__*/_classPrivateFieldLooseKey(\"handleUploadProgress\");\nvar _updateTotalProgress = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateTotalProgress\");\nvar _updateTotalProgressThrottled = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateTotalProgressThrottled\");\nvar _calculateTotalProgress = /*#__PURE__*/_classPrivateFieldLooseKey(\"calculateTotalProgress\");\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\nvar _requestClientById = /*#__PURE__*/_classPrivateFieldLooseKey(\"requestClientById\");\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\nexport class Uppy {\n  /**\n   * Instantiate Uppy\n   */\n  constructor(_opts) {\n    /**\n     * Run an upload. This picks up where it left off in case the upload is being restored.\n     */\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    /**\n     * Remove an upload, eg. if it has been canceled or completed.\n     *\n     */\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    /**\n     * Create an upload for a bunch of files.\n     *\n     */\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    /**\n     * Registers listeners for all global actions, like:\n     * `error`, `file-removed`, `upload-progress`\n     */\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _calculateTotalProgress, {\n      value: _calculateTotalProgress2\n    });\n    Object.defineProperty(this, _updateTotalProgress, {\n      value: _updateTotalProgress2\n    });\n    Object.defineProperty(this, _doRetryAll, {\n      value: _doRetryAll2\n    });\n    Object.defineProperty(this, _getFilesToRetry, {\n      value: _getFilesToRetry2\n    });\n    Object.defineProperty(this, _checkAndUpdateFileState, {\n      value: _checkAndUpdateFileState2\n    });\n    // Schedule an upload if `autoProceed` is enabled.\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    /**\n     * Create a file state object based on user-provided `addFile()` options.\n     */\n    Object.defineProperty(this, _transformFile, {\n      value: _transformFile2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    this.scheduledAutoProceed = null;\n    this.wasOffline = false;\n    Object.defineProperty(this, _handleUploadProgress, {\n      writable: true,\n      value: (file, progress) => {\n        const fileInState = file ? this.getFile(file.id) : undefined;\n        if (file == null || !fileInState) {\n          this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n          return;\n        }\n        if (fileInState.progress.percentage === 100) {\n          this.log(`Not setting progress for a file that has been already uploaded: ${file.id}`);\n          return;\n        }\n        const newProgress = {\n          bytesTotal: progress.bytesTotal,\n          // bytesTotal may be null or zero; in that case we can't divide by it\n          percentage: progress.bytesTotal != null && Number.isFinite(progress.bytesTotal) && progress.bytesTotal > 0 ? Math.round(progress.bytesUploaded / progress.bytesTotal * 100) : undefined\n        };\n        if (fileInState.progress.uploadStarted != null) {\n          this.setFileState(file.id, {\n            progress: {\n              ...fileInState.progress,\n              ...newProgress,\n              bytesUploaded: progress.bytesUploaded\n            }\n          });\n        } else {\n          this.setFileState(file.id, {\n            progress: {\n              ...fileInState.progress,\n              ...newProgress\n            }\n          });\n        }\n        _classPrivateFieldLooseBase(this, _updateTotalProgressThrottled)[_updateTotalProgressThrottled]();\n      }\n    });\n    // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n    Object.defineProperty(this, _updateTotalProgressThrottled, {\n      writable: true,\n      value: throttle(() => _classPrivateFieldLooseBase(this, _updateTotalProgress)[_updateTotalProgress](), 500, {\n        leading: true,\n        trailing: true\n      })\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    // We need to store request clients by a unique ID, so we can share RequestClient instances across files\n    // this allows us to do rate limiting and synchronous operations like refreshing provider tokens\n    // example: refreshing tokens: if each file has their own requestclient,\n    // we don't have any way to synchronize all requests in order to\n    // - block all requests\n    // - refresh the token\n    // - unblock all requests and allow them to run with a the new access token\n    // back when we had a requestclient per file, once an access token expired,\n    // all 6 files would go ahead and refresh the token at the same time\n    // (calling /refresh-token up to 6 times), which will probably fail for some providers\n    Object.defineProperty(this, _requestClientById, {\n      writable: true,\n      value: new Map()\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: (file, files) => !Object.hasOwn(files, file.id),\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    };\n    const merged = {\n      ...defaultOptions,\n      ..._opts\n    };\n    // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n    this.opts = {\n      ...merged,\n      restrictions: {\n        ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    };\n\n    // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n    this.log(`Using Core v${Uppy.VERSION}`);\n    this.i18nInit();\n    this.store = this.opts.store;\n    this.setState({\n      ...defaultUploadState,\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      meta: {\n        ...this.opts.meta\n      },\n      info: []\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, () => this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    });\n\n    // Exposing uppy object on window for debugging and testing\n    if (this.opts.debug && typeof window !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore Mutating the global object for debug purposes\n      window[this.opts.id] = this;\n    }\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n    return this;\n  }\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n    return this;\n  }\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n    return this;\n  }\n\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n\n  /**\n   * Updates state with a patch\n   */\n  setState(patch) {\n    this.store.setState(patch);\n  }\n\n  /**\n   * Returns current state.\n   */\n  getState() {\n    return this.store.getState();\n  }\n  patchFilesState(filesWithNewState) {\n    const existingFilesState = this.getState().files;\n    this.setState({\n      files: {\n        ...existingFilesState,\n        ...Object.fromEntries(Object.entries(filesWithNewState).map(_ref => {\n          let [fileID, newFileState] = _ref;\n          return [fileID, {\n            ...existingFilesState[fileID],\n            ...newFileState\n          }];\n        }))\n      }\n    });\n  }\n\n  /**\n   * Shorthand to set state for a specific file.\n   */\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Can’t set state for ${fileID} (the file could have been removed)`);\n    }\n    this.patchFilesState({\n      [fileID]: state\n    });\n  }\n  i18nInit() {\n    const onMissingKey = key => this.log(`Missing i18n string: ${key}`, 'error');\n    const translator = new Translator([this.defaultLocale, this.opts.locale], {\n      onMissingKey\n    });\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n  setOptions(newOpts) {\n    this.opts = {\n      ...this.opts,\n      ...newOpts,\n      restrictions: {\n        ...this.opts.restrictions,\n        ...(newOpts == null ? void 0 : newOpts.restrictions)\n      }\n    };\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n    this.i18nInit();\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions(newOpts);\n      });\n    }\n\n    // Note: this is not the preact `setState`, it's an internal function that has the same name.\n    this.setState(undefined); // so that UI re-renders with new options\n  }\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: false,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = {\n      ...this.getState().files\n    };\n    const updatedFiles = Object.create(null);\n    Object.keys(files).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...files[fileID],\n        progress: {\n          ...files[fileID].progress,\n          ...defaultProgress\n        },\n        // @ts-expect-error these typed are inserted\n        // into the namespace in their respective packages\n        // but core isn't ware of those\n        tus: undefined,\n        transloadit: undefined\n      };\n    });\n    this.setState({\n      files: updatedFiles,\n      ...defaultUploadState\n    });\n  }\n  clear() {\n    const {\n      capabilities,\n      currentUploads\n    } = this.getState();\n    if (Object.keys(currentUploads).length > 0 && !capabilities.individualCancellation) {\n      throw new Error('The installed uploader plugin does not allow removing files during an upload.');\n    }\n    this.setState({\n      ...defaultUploadState,\n      files: {}\n    });\n  }\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n  setMeta(data) {\n    const updatedMeta = {\n      ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...updatedFiles[fileID],\n        meta: {\n          ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n  setFileMeta(fileID, data) {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    if (!updatedFiles[fileID]) {\n      this.log(`Was trying to set metadata for a file that has been removed: ${fileID}`);\n      return;\n    }\n    const newMeta = {\n      ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = {\n      ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n\n  /**\n   * Get a file object.\n   */\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n\n  /**\n   * Get all files in an array.\n   */\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n  getFilesByIds(ids) {\n    return ids.map(id => this.getFile(id));\n  }\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = [];\n    const newFiles = [];\n    const startedFiles = [];\n    const uploadStartedFiles = [];\n    const pausedFiles = [];\n    const completeFiles = [];\n    const erroredFiles = [];\n    const inProgressNotPausedFiles = [];\n    const processingFiles = [];\n    for (const file of files) {\n      const {\n        progress\n      } = file;\n      if (!progress.uploadComplete && progress.uploadStarted) {\n        inProgressFiles.push(file);\n        if (!file.isPaused) {\n          inProgressNotPausedFiles.push(file);\n        }\n      }\n      if (!progress.uploadStarted) {\n        newFiles.push(file);\n      }\n      if (progress.uploadStarted || progress.preprocess || progress.postprocess) {\n        startedFiles.push(file);\n      }\n      if (progress.uploadStarted) {\n        uploadStartedFiles.push(file);\n      }\n      if (file.isPaused) {\n        pausedFiles.push(file);\n      }\n      if (progress.uploadComplete) {\n        completeFiles.push(file);\n      }\n      if (file.error) {\n        erroredFiles.push(file);\n      }\n      if (progress.preprocess || progress.postprocess) {\n        processingFiles.push(file);\n      }\n    }\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(files, [file]);\n    } catch (err) {\n      return err;\n    }\n    return null;\n  }\n  validateSingleFile(file) {\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateSingleFile(file);\n    } catch (err) {\n      return err.message;\n    }\n    return null;\n  }\n  validateAggregateRestrictions(files) {\n    const existingFiles = this.getFiles();\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateAggregateRestrictions(existingFiles, files);\n    } catch (err) {\n      return err.message;\n    }\n    return null;\n  }\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState]([file]);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    if (errors.length > 0) throw errors[0];\n    this.setState({\n      files: nextFilesState\n    });\n    const [firstValidFileToAdd] = validFilesToAdd;\n    this.emit('file-added', firstValidFileToAdd);\n    this.emit('files-added', validFilesToAdd);\n    this.log(`Added file: ${firstValidFileToAdd.name}, ${firstValidFileToAdd.id}, mime type: ${firstValidFileToAdd.type}`);\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    return firstValidFileToAdd.id;\n  }\n\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed]();\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState](fileDescriptors);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    const nonRestrictionErrors = errors.filter(error => !error.isRestriction);\n    if (nonRestrictionErrors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      nonRestrictionErrors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: nonRestrictionErrors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(nonRestrictionErrors, message);\n      } else {\n        const err = new Error(message);\n        // @ts-expect-error fallback when AggregateError is not available\n        err.errors = nonRestrictionErrors;\n        throw err;\n      }\n    }\n\n    // OK, we haven't thrown an error, we can start updating state and emitting events now:\n\n    this.setState({\n      files: nextFilesState\n    });\n    validFilesToAdd.forEach(file => {\n      this.emit('file-added', file);\n    });\n    this.emit('files-added', validFilesToAdd);\n    if (validFilesToAdd.length > 5) {\n      this.log(`Added batch of ${validFilesToAdd.length} files`);\n    } else {\n      Object.values(validFilesToAdd).forEach(file => {\n        this.log(`Added file: ${file.name}\\n id: ${file.id}\\n type: ${file.type}`);\n      });\n    }\n    if (validFilesToAdd.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n  }\n  removeFiles(fileIDs) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = {\n      ...files\n    };\n    const updatedUploads = {\n      ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    });\n\n    // Remove files from the `fileIDs` list in each upload.\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved);\n\n      // Remove the upload if no files are associated with it anymore.\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n      const {\n        capabilities\n      } = this.getState();\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('The installed uploader plugin does not allow removing files during an upload.');\n      }\n      updatedUploads[uploadID] = {\n        ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    };\n\n    // If all files were removed - allow new uploads,\n    // and clear recoveredState\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n    this.setState(stateUpdate);\n    _classPrivateFieldLooseBase(this, _updateTotalProgressThrottled)[_updateTotalProgressThrottled]();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID]);\n    });\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n  removeFile(fileID) {\n    this.removeFiles([fileID]);\n  }\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).progress.uploadComplete) {\n      return undefined;\n    }\n    const file = this.getFile(fileID);\n    const wasPaused = file.isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', file, isPaused);\n    return isPaused;\n  }\n  pauseAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n  resumeAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n  async retryAll() {\n    const result = await _classPrivateFieldLooseBase(this, _doRetryAll)[_doRetryAll]();\n    this.emit('complete', result);\n    return result;\n  }\n  cancelAll() {\n    this.emit('cancel-all');\n    const {\n      files\n    } = this.getState();\n    const fileIDs = Object.keys(files);\n    if (fileIDs.length) {\n      this.removeFiles(fileIDs);\n    }\n    this.setState(defaultUploadState);\n  }\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', this.getFile(fileID));\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n    });\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  logout() {\n    this.iteratePlugins(plugin => {\n      var _provider;\n      ;\n      (_provider = plugin.provider) == null || _provider.logout == null || _provider.logout();\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this, @typescript-eslint/explicit-module-boundary-types\n  [Symbol.for('uppy test: updateTotalProgress')]() {\n    return _classPrivateFieldLooseBase(this, _updateTotalProgress)[_updateTotalProgress]();\n  }\n  updateOnlineStatus() {\n    var _window$navigator$onL;\n    const online = (_window$navigator$onL = window.navigator.onLine) != null ? _window$navigator$onL : true;\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n  getID() {\n    return this.opts.id;\n  }\n\n  /**\n   * Registers a plugin with Core.\n   */\n  use(Plugin) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    }\n\n    // Instantiate\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    const plugin = new Plugin(this, ...args);\n    const pluginId = plugin.id;\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n    const existsPluginAlready = this.getPlugin(pluginId);\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options.';\n      throw new Error(msg);\n    }\n\n    // @ts-expect-error does exist\n    if (Plugin.VERSION) {\n      // @ts-expect-error does exist\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n    plugin.install();\n    this.emit('plugin-added', plugin);\n    return this;\n  }\n\n  /**\n   * Find one Plugin by name.\n   */\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n    return undefined;\n  }\n  [Symbol.for('uppy test: getPlugins')](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   */\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type];\n    // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n    const index = list.findIndex(item => item.id === instance.id);\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n    const state = this.getState();\n    const updatedState = {\n      plugins: {\n        ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n  destroy() {\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll();\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   */\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n    if (duration === void 0) {\n      duration = 3000;\n    }\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   */\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n      case 'warning':\n        logger.warn(message);\n        break;\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  registerRequestClient(id, client) {\n    _classPrivateFieldLooseBase(this, _requestClientById)[_requestClientById].set(id, client);\n  }\n\n  /** @protected */\n  getRequestClientForFile(file) {\n    if (!file.remote) throw new Error(`Tried to get RequestClient for a non-remote file ${file.id}`);\n    const requestClient = _classPrivateFieldLooseBase(this, _requestClientById)[_requestClientById].get(file.remote.requestClientId);\n    if (requestClient == null) throw new Error(`requestClientId \"${file.remote.requestClientId}\" not registered for file \"${file.id}\"`);\n    return requestClient;\n  }\n\n  /**\n   * Restore an upload by its ID.\n   */\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  [Symbol.for('uppy test: createUpload')]() {\n    // @ts-expect-error https://github.com/microsoft/TypeScript/issues/47595\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n  /**\n   * Add data to an upload's result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = {\n      ...currentUploads[uploadID],\n      result: {\n        ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: {\n        ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   */\n  async upload() {\n    var _classPrivateFieldLoo;\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins]['uploader']) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n    let {\n      files\n    } = this.getState();\n\n    // retry any failed files from a previous upload() call\n    const filesToRetry = _classPrivateFieldLooseBase(this, _getFilesToRetry)[_getFilesToRetry]();\n    if (filesToRetry.length > 0) {\n      const retryResult = await _classPrivateFieldLooseBase(this, _doRetryAll)[_doRetryAll](); // we don't want the complete event to fire\n\n      const hasNewFiles = this.getFiles().filter(file => file.progress.uploadStarted == null).length > 0;\n\n      // if no new files, make it idempotent and return\n      if (!hasNewFiles) {\n        this.emit('complete', retryResult);\n        return retryResult;\n      }\n      // reload files which might have  changed after retry\n      ;\n      ({\n        files\n      } = this.getState());\n    }\n\n    // If no files to retry, proceed with original upload() behavior for new files\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult;\n      // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n      this.setState({\n        files\n      });\n    }\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([err]);\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(async () => {\n      const {\n        currentUploads\n      } = this.getState();\n      // get a list of files that are currently assigned to uploads\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID);\n        // if the file hasn't started uploading and hasn't already been assigned to an upload..\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n      const result = await _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n      this.emit('complete', result);\n      return result;\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n}\nfunction _informAndEmit2(errors) {\n  for (const error of errors) {\n    if (error.isRestriction) {\n      this.emit('restriction-failed', error.file, error);\n    } else {\n      this.emit('error', error, error.file);\n    }\n    this.log(error, 'warning');\n  }\n  const userFacingErrors = errors.filter(error => error.isUserFacing);\n\n  // don't flood the user: only show the first 4 toasts\n  const maxNumToShow = 4;\n  const firstErrors = userFacingErrors.slice(0, maxNumToShow);\n  const additionalErrors = userFacingErrors.slice(maxNumToShow);\n  firstErrors.forEach(_ref2 => {\n    let {\n      message,\n      details = ''\n    } = _ref2;\n    this.info({\n      message,\n      details\n    }, 'error', this.opts.infoTimeout);\n  });\n  if (additionalErrors.length > 0) {\n    this.info({\n      message: this.i18n('additionalRestrictionsFailed', {\n        count: additionalErrors.length\n      })\n    });\n  }\n}\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n  if (missingFields.length === 0 && file.missingRequiredMetaFields) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: []\n    });\n  }\n  return true;\n}\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n  return success;\n}\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'), {\n      file\n    });\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    throw error;\n  }\n}\nfunction _transformFile2(fileDescriptorOrFile) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  const file = fileDescriptorOrFile instanceof File ? {\n    name: fileDescriptorOrFile.name,\n    type: fileDescriptorOrFile.type,\n    size: fileDescriptorOrFile.size,\n    data: fileDescriptorOrFile\n  } : fileDescriptorOrFile;\n  const fileType = getFileType(file);\n  const fileName = getFileName(fileType, file);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const id = getSafeFileId(file, this.getID());\n  const meta = file.meta || {};\n  meta.name = fileName;\n  meta.type = fileType;\n\n  // `null` means the size is unknown.\n  const size = Number.isFinite(file.data.size) ? file.data.size : null;\n  return {\n    source: file.source || '',\n    id,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: {\n      ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: file.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: false,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isGhost: false,\n    isRemote: file.isRemote || false,\n    remote: file.remote,\n    preview: file.preview\n  };\n}\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\nfunction _checkAndUpdateFileState2(filesToAdd) {\n  const {\n    files: existingFiles\n  } = this.getState();\n\n  // create a copy of the files object only once\n  const nextFilesState = {\n    ...existingFiles\n  };\n  const validFilesToAdd = [];\n  const errors = [];\n  for (const fileToAdd of filesToAdd) {\n    try {\n      var _existingFiles$newFil;\n      let newFile = _classPrivateFieldLooseBase(this, _transformFile)[_transformFile](fileToAdd);\n\n      // If a file has been recovered (Golden Retriever), but we were unable to recover its data (probably too large),\n      // users are asked to re-select these half-recovered files and then this method will be called again.\n      // In order to keep the progress, meta and everything else, we keep the existing file,\n      // but we replace `data`, and we remove `isGhost`, because the file is no longer a ghost now\n      const isGhost = (_existingFiles$newFil = existingFiles[newFile.id]) == null ? void 0 : _existingFiles$newFil.isGhost;\n      if (isGhost) {\n        const existingFileState = existingFiles[newFile.id];\n        newFile = {\n          ...existingFileState,\n          isGhost: false,\n          data: fileToAdd.data\n        };\n        this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n      }\n      const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, nextFilesState);\n      if (!onBeforeFileAddedResult && this.checkIfFileAlreadyExists(newFile.id)) {\n        var _newFile$name;\n        throw new RestrictionError(this.i18n('noDuplicates', {\n          fileName: (_newFile$name = newFile.name) != null ? _newFile$name : this.i18n('unnamed')\n        }), {\n          file: fileToAdd\n        });\n      }\n\n      // Pass through reselected files from Golden Retriever\n      if (onBeforeFileAddedResult === false && !isGhost) {\n        // Don’t show UI info for this error, as it should be done by the developer\n        throw new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.', {\n          isUserFacing: false,\n          file: fileToAdd\n        });\n      } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n        newFile = onBeforeFileAddedResult;\n      }\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateSingleFile(newFile);\n\n      // need to add it to the new local state immediately, so we can use the state to validate the next files too\n      nextFilesState[newFile.id] = newFile;\n      validFilesToAdd.push(newFile);\n    } catch (err) {\n      errors.push(err);\n    }\n  }\n  try {\n    // need to run this separately because it's much more slow, so if we run it inside the for-loop it will be very slow\n    // when many files are added\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateAggregateRestrictions(Object.values(existingFiles), validFilesToAdd);\n  } catch (err) {\n    errors.push(err);\n\n    // If we have any aggregate error, don't allow adding this batch\n    return {\n      nextFilesState: existingFiles,\n      validFilesToAdd: [],\n      errors\n    };\n  }\n  return {\n    nextFilesState,\n    validFilesToAdd,\n    errors\n  };\n}\nfunction _getFilesToRetry2() {\n  const {\n    files\n  } = this.getState();\n  return Object.keys(files).filter(file => {\n    return files[file].error;\n  });\n}\nasync function _doRetryAll2() {\n  const filesToRetry = _classPrivateFieldLooseBase(this, _getFilesToRetry)[_getFilesToRetry]();\n  const updatedFiles = {\n    ...this.getState().files\n  };\n  filesToRetry.forEach(fileID => {\n    updatedFiles[fileID] = {\n      ...updatedFiles[fileID],\n      isPaused: false,\n      error: null\n    };\n  });\n  this.setState({\n    files: updatedFiles,\n    error: null\n  });\n  this.emit('retry-all', this.getFilesByIds(filesToRetry));\n  if (filesToRetry.length === 0) {\n    return {\n      successful: [],\n      failed: []\n    };\n  }\n  const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n    forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n  });\n  return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n}\nfunction _updateTotalProgress2() {\n  var _totalProgressPercent, _totalProgressPercent2;\n  const totalProgress = _classPrivateFieldLooseBase(this, _calculateTotalProgress)[_calculateTotalProgress]();\n  let totalProgressPercent = null;\n  if (totalProgress != null) {\n    totalProgressPercent = Math.round(totalProgress * 100);\n    if (totalProgressPercent > 100) totalProgressPercent = 100;else if (totalProgressPercent < 0) totalProgressPercent = 0;\n  }\n  this.emit('progress', (_totalProgressPercent = totalProgressPercent) != null ? _totalProgressPercent : 0);\n  this.setState({\n    totalProgress: (_totalProgressPercent2 = totalProgressPercent) != null ? _totalProgressPercent2 : 0\n  });\n}\nfunction _calculateTotalProgress2() {\n  // calculate total progress, using the number of files currently uploading,\n  // between 0 and 1 and sum of individual progress of each file\n  const files = this.getFiles();\n\n  // note: also includes files that have completed uploading:\n  const filesInProgress = files.filter(file => {\n    return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n  });\n  if (filesInProgress.length === 0) {\n    return 0;\n  }\n  if (filesInProgress.every(file => file.progress.uploadComplete)) {\n    // If every uploading file is complete, and we're still getting progress, it probably means\n    // there's a bug somewhere in some progress reporting code (maybe not even our code)\n    // and we're still getting progress, so let's just assume it means a 100% progress\n    return 1;\n  }\n  const isSizedFile = file => file.progress.bytesTotal != null && file.progress.bytesTotal !== 0;\n  const sizedFilesInProgress = filesInProgress.filter(isSizedFile);\n  const unsizedFilesInProgress = filesInProgress.filter(file => !isSizedFile(file));\n  if (sizedFilesInProgress.every(file => file.progress.uploadComplete) && unsizedFilesInProgress.length > 0 && !unsizedFilesInProgress.every(file => file.progress.uploadComplete)) {\n    // we are done with uploading all files of known size, however\n    // there is at least one file with unknown size still uploading,\n    // and we cannot say anything about their progress\n    // In any case, return null because it doesn't make any sense to show a progress\n    return null;\n  }\n  const totalFilesSize = sizedFilesInProgress.reduce((acc, file) => {\n    var _file$progress$bytesT;\n    return acc + ((_file$progress$bytesT = file.progress.bytesTotal) != null ? _file$progress$bytesT : 0);\n  }, 0);\n  const totalUploadedSize = sizedFilesInProgress.reduce((acc, file) => acc + (file.progress.bytesUploaded || 0), 0);\n  return totalFilesSize === 0 ? 0 : totalUploadedSize / totalFilesSize;\n}\nfunction _addListeners2() {\n  // Type inference only works for inline functions so we have to type it again\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n    this.setState({\n      error: errorMsg\n    });\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n    if (typeof error === 'object' && error.message) {\n      var _file$name;\n      this.log(error.message, 'error');\n      const newError = new Error(this.i18n('failedToUpload', {\n        file: (_file$name = file == null ? void 0 : file.name) != null ? _file$name : ''\n      })); // we may want a new custom error here\n      newError.isUserFacing = true; // todo maybe don't do this with all errors?\n      newError.details = error.message;\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([newError]);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    }\n  });\n  let uploadStalledWarningRecentlyEmitted = null;\n  this.on('upload-stalled', (error, files) => {\n    const {\n      message\n    } = error;\n    const details = files.map(file => file.meta.name).join(', ');\n    if (!uploadStalledWarningRecentlyEmitted) {\n      this.info({\n        message,\n        details\n      }, 'warning', this.opts.infoTimeout);\n      uploadStalledWarningRecentlyEmitted = setTimeout(() => {\n        uploadStalledWarningRecentlyEmitted = null;\n      }, this.opts.infoTimeout);\n    }\n    this.log(`${message} ${details}`.trim(), 'warning');\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  const onUploadStarted = files => {\n    const filesFiltered = files.filter(file => {\n      const exists = file != null && this.getFile(file.id);\n      if (!exists) this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return exists;\n    });\n    const filesState = Object.fromEntries(filesFiltered.map(file => [file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    }]));\n    this.patchFilesState(filesState);\n  };\n  this.on('upload-start', onUploadStarted);\n  this.on('upload-progress', _classPrivateFieldLooseBase(this, _handleUploadProgress)[_handleUploadProgress]);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: {\n        ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : undefined,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    });\n\n    // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n    _classPrivateFieldLooseBase(this, _updateTotalProgressThrottled)[_updateTotalProgressThrottled]();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    _classPrivateFieldLooseBase(this, _updateTotalProgressThrottled)[_updateTotalProgressThrottled]();\n  });\n\n  // @ts-expect-error should fix itself when dashboard it typed (also this doesn't belong here)\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  });\n\n  // show informer if offline\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  // uppy.retryAll sets this to true — when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n  const uploadID = nanoid();\n  this.emit('upload', uploadID, this.getFilesByIds(fileIDs));\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: {\n      ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\nfunction _removeUpload2(uploadID) {\n  const currentUploads = {\n    ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\nasync function _runUpload2(uploadID) {\n  const getCurrentUpload = () => {\n    const {\n      currentUploads\n    } = this.getState();\n    return currentUploads[uploadID];\n  };\n  let currentUpload = getCurrentUpload();\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n  try {\n    for (let step = currentUpload.step || 0; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n      const fn = steps[step];\n      this.setState({\n        currentUploads: {\n          ...this.getState().currentUploads,\n          [uploadID]: {\n            ...currentUpload,\n            step\n          }\n        }\n      });\n      const {\n        fileIDs\n      } = currentUpload;\n\n      // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n      await fn(fileIDs, uploadID);\n\n      // Update currentUpload value in case it was modified asynchronously.\n      currentUpload = getCurrentUpload();\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n    throw err;\n  }\n\n  // Set result data.\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    });\n\n    // Update currentUpload value in case it was modified asynchronously.\n    currentUpload = getCurrentUpload();\n  }\n  // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n  let result;\n  if (currentUpload) {\n    result = currentUpload.result;\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n    result = {\n      successful: [],\n      failed: [],\n      uploadID\n    };\n  }\n  return result;\n}\nUppy.VERSION = packageJson.version;\nexport default Uppy;", "/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.2.0\"\n};\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n/**\n * Default store that keeps state in a simple object.\n */\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    this.state = {};\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n  }\n  getState() {\n    return this.state;\n  }\n  setState(patch) {\n    const prevState = {\n      ...this.state\n    };\n    const nextState = {\n      ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n}\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;", "/**\n * Takes a full filename string and returns an object {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.');\n  // these count as no extension: \"no-dot\", \"trailing-dot.\"\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}", "// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\n\nexport default {\n  __proto__: null,\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  msg: 'application/vnd.ms-outlook',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};", "import getFileNameAndExtension from './getFileNameAndExtension.js';\nimport mimeTypes from './mimeTypes.js';\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  }\n  // if all fails, fall back to a generic byte stream type\n  return 'application/octet-stream';\n}", "import getFileType from './getFileType.js';\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/gi, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n */\nexport default function generateFileID(file, instanceId) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n\n  let id = instanceId || 'uppy';\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n  return id;\n}\n\n// If the provider has a stable, unique ID, then we can use that to identify the file.\n// Then we don't have to generate our own ID, and we can add the same file many times if needed (different path)\nfunction hasFileStableId(file) {\n  if (!file.isRemote || !file.remote) return false;\n  // These are the providers that it seems like have stable IDs for their files. The other's I haven't checked yet.\n  const stableIdProviders = new Set(['box', 'dropbox', 'drive', 'facebook', 'unsplash']);\n  return stableIdProviders.has(file.remote.provider);\n}\nexport function getSafeFileId(file, instanceId) {\n  if (hasFileStableId(file)) return file.id;\n  const fileType = getFileType(file);\n  return generateFileID({\n    ...file,\n    type: fileType\n  }, instanceId);\n}", "// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  }\n  // Assume it works because basically everything supports progress events.\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  const version = edgeVersion.split('.', 2);\n  const major = parseInt(version[0], 10);\n  const minor = parseInt(version[1], 10);\n\n  // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  }\n\n  // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  }\n\n  // other versions don't work.\n  return false;\n}", "export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n  return 'noname';\n}", "/**\n * Adds zero to strings shorter than two characters.\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}", "/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp';\n\n// Swallow all logs, except errors.\n// default if logger is not set or debug: false\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\n\n// Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\n// @ts-ignore untyped\nimport match from 'mime-match';\n\n/**\n * The minimal required properties to be present from UppyFile in order to validate it.\n */\n\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\nclass RestrictionError extends Error {\n  constructor(message, opts) {\n    var _opts$isUserFacing;\n    super(message);\n    this.isRestriction = true;\n    this.isUserFacing = (_opts$isUserFacing = opts == null ? void 0 : opts.isUserFacing) != null ? _opts$isUserFacing : true;\n    if (opts != null && opts.file) {\n      this.file = opts.file; // only some restriction errors are related to a particular file\n    }\n  }\n}\nclass Restricter {\n  constructor(getOpts, getI18n) {\n    this.getI18n = getI18n;\n    this.getOpts = () => {\n      var _opts$restrictions;\n      const opts = getOpts();\n      if (((_opts$restrictions = opts.restrictions) == null ? void 0 : _opts$restrictions.allowedFileTypes) != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n      return opts;\n    };\n  }\n\n  // Because these operations are slow, we cannot run them for every file (if we are adding multiple files)\n  validateAggregateRestrictions(existingFiles, addingFiles) {\n    const {\n      maxTotalFileSize,\n      maxNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = existingFiles.filter(f => !f.isGhost);\n      if (nonGhostFiles.length + addingFiles.length > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.getI18n()('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n    if (maxTotalFileSize) {\n      const totalFilesSize = [...existingFiles, ...addingFiles].reduce((total, f) => {\n        var _f$size;\n        return total + ((_f$size = f.size) != null ? _f$size : 0);\n      }, 0);\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.getI18n()('aggregateExceedsSize', {\n          sizeAllowed: prettierBytes(maxTotalFileSize),\n          size: prettierBytes(totalFilesSize)\n        }));\n      }\n    }\n  }\n  validateSingleFile(file) {\n    const {\n      maxFileSize,\n      minFileSize,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        }\n\n        // otherwise this is likely an extension\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n        return false;\n      });\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.getI18n()('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }), {\n          file\n        });\n      }\n    }\n\n    // We can't check maxFileSize if the size is unknown.\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      var _file$name;\n      throw new RestrictionError(this.getI18n()('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: (_file$name = file.name) != null ? _file$name : this.getI18n()('unnamed')\n      }), {\n        file\n      });\n    }\n\n    // We can't check minFileSize if the size is unknown.\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.getI18n()('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }), {\n        file\n      });\n    }\n  }\n  validate(existingFiles, addingFiles) {\n    addingFiles.forEach(addingFile => {\n      this.validateSingleFile(addingFile);\n    });\n    this.validateAggregateRestrictions(existingFiles, addingFiles);\n  }\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (minNumberOfFiles && Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.getI18n()('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n  getMissingRequiredMetaFields(file) {\n    var _file$name2;\n    const error = new RestrictionError(this.getI18n()('missingRequiredMetaFieldOnFile', {\n      fileName: (_file$name2 = file.name) != null ? _file$name2 : this.getI18n()('unnamed')\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n    return {\n      missingFields,\n      error\n    };\n  }\n}\nexport { Restricter, defaultOptions, RestrictionError };", "export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    aggregateExceedsSize: 'You selected %{size} of files, but maximum allowed size is %{sizeAllowed}',\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    noSearchResults: 'Unfortunately, there are no results for this search',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    logIn: 'Log in',\n    pickFiles: 'Pick files',\n    pickPhotos: 'Pick photos',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    loadedXFiles: 'Loaded %{numFiles} files',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    resetSearch: 'Reset search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    addedNumFiles: 'Added %{numFiles} file(s)',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    },\n    additionalRestrictionsFailed: '%{count} additional restrictions were not fulfilled',\n    unnamed: 'Unnamed',\n    pleaseWait: 'Please wait'\n  }\n};", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\nimport { NULL } from './constants';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tfunction Context(props) {\n\t\tif (!this.getChildContext) {\n\t\t\t/** @type {Set<import('./internal').Component> | null} */\n\t\t\tlet subs = new Set();\n\t\t\tlet ctx = {};\n\t\t\tctx[Context._id] = this;\n\n\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\tsubs = NULL;\n\t\t\t};\n\n\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t// @ts-expect-error even\n\t\t\t\tif (this.props.value != _props.value) {\n\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.sub = c => {\n\t\t\t\tsubs.add(c);\n\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\tif (subs) {\n\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t}\n\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn props.children;\n\t}\n\n\tContext._id = '__cC' + i++;\n\tContext._defaultValue = defaultValue;\n\n\t/** @type {import('./internal').FunctionComponent} */\n\tContext.Consumer = (props, contextValue) => {\n\t\treturn props.children(contextValue);\n\t};\n\n\t// we could also get rid of _contextRef entirely\n\tContext.Provider =\n\t\tContext._contextRef =\n\t\tContext.Consumer.contextType =\n\t\t\tContext;\n\n\treturn Context;\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (oldDom && parentVNode.type && !parentDom.contains(oldDom)) {\n\t\t\toldDom = getDomSibling(parentVNode);\n\t\t}\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren >\n\t\t(oldVNode != NULL && (oldVNode._flags & MATCHED) == 0 ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype == oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) == 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n", "import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options as _options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\n// Cast to use internal Options type\nconst options = /** @type {import('./internal').Options} */ (_options);\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\nlet oldRoot = options._root;\n\n// We take the minimum timeout for requestAnimationFrame to ensure that\n// the callback is invoked after the next frame. 35ms is based on a 30hz\n// refresh rate, which is the minimum rate for a smooth user experience.\nconst RAF_TIMEOUT = 35;\nlet prevRaf;\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._root = (vnode, parentDom) => {\n\tif (vnode && parentDom._children && parentDom._children._mask) {\n\t\tvnode._mask = parentDom._children._mask;\n\t}\n\n\tif (oldRoot) oldRoot(vnode, parentDom);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingArgs = hookItem._nextValue = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\n// TODO: Improve typing of commitQueue parameter\n/** @type {(vnode: import('./internal').VNode, commitQueue: any) => void} */\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\n\treturn hooks._list[index];\n}\n\n/**\n * @template {unknown} S\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} [initialState]\n * @returns {[S, (state: S) => void]}\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @template {unknown} S\n * @template {unknown} A\n * @param {import('./index').Reducer<S, A>} reducer\n * @param {import('./index').Dispatch<import('./index').StateUpdater<S>>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ S, (state: S) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\t/** @type {(x: import('./internal').HookState) => x is import('./internal').ReducerHookState} */\n\t\t\t\tconst isStateHook = x => !!x._component;\n\t\t\t\tconst stateHooks =\n\t\t\t\t\thookState._component.__hooks._list.filter(isStateHook);\n\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = hookState._component.props !== p;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn prevScu\n\t\t\t\t\t? prevScu.call(this, p, s, c) || shouldUpdate\n\t\t\t\t\t: shouldUpdate;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\n/** @type {(initialValue: unknown) => unknown} */\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {unknown[]} args\n * @returns {void}\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tconst result = ref(createHandle());\n\t\t\t\treturn () => {\n\t\t\t\t\tref(null);\n\t\t\t\t\tif (result && typeof result == 'function') result();\n\t\t\t\t};\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @template {unknown} T\n * @param {() => T} factory\n * @param {unknown[]} args\n * @returns {T}\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState<T>} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {unknown[]} args\n * @returns {() => void}\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(\n\t\t\tformatter ? formatter(value) : /** @type {any}*/ (value)\n\t\t);\n\t}\n}\n\n/**\n * @param {(error: unknown, errorInfo: import('preact').ErrorInfo) => void} cb\n * @returns {[unknown, () => void]}\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/** @type {() => string} */\nexport function useId() {\n\t/** @type {import('./internal').IdHookState} */\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n * @returns {void}\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').HookState} hook\n * @returns {void}\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n * @returns {void}\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {unknown[]} oldArgs\n * @param {unknown[]} newArgs\n * @returns {boolean}\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\n/**\n * @template Arg\n * @param {Arg} arg\n * @param {(arg: Arg) => any} f\n * @returns {any}\n */\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n", "import { useState, useLayoutEffect, useEffect } from 'preact/hooks';\nimport { is } from './util';\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n * @typedef {{ _value: any; _getSnapshot: () => any }} Store\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\t/**\n\t * @typedef {{ _instance: Store }} StoreRef\n\t * @type {[StoreRef, (store: StoreRef) => void]}\n\t */\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (didSnapshotChange(_instance)) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (didSnapshotChange(_instance)) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (didSnapshotChange(_instance)) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\n/** @type {(inst: Store) => boolean} */\nfunction didSnapshotChange(inst) {\n\tconst latestGetSnapshot = inst._getSnapshot;\n\tconst prevValue = inst._value;\n\ttry {\n\t\tconst nextValue = latestGetSnapshot();\n\t\treturn !is(prevValue, nextValue);\n\t} catch (error) {\n\t\treturn true;\n\t}\n}\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n", "import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p, c) {\n\tthis.props = p;\n\tthis.context = c;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n", "import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n", "import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n", "import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n", "import { Component, createElement, options, Fragment } from 'preact';\nimport { MODE_HYDRATE } from '../../src/constants';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._flags & MODE_HYDRATE) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\n\t\t\tvnode._component._force = true;\n\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode && originalParent) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.appendChild(vnode._dom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tif (\n\t\t!c._pendingSuspensionCount++ &&\n\t\t!(suspendingVNode._flags & MODE_HYDRATE)\n\t) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._flags &= ~MODE_HYDRATE;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n", "import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\tif (!_this._temp) {\n\t\t// Ensure the element has a mask for useId invocations\n\t\tlet root = _this._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\t_this._container = container;\n\n\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t_this._temp = {\n\t\t\tnodeType: 1,\n\t\t\tparentNode: container,\n\t\t\tchildNodes: [],\n\t\t\t_children: { _mask: root._mask },\n\t\t\tcontains: () => true,\n\t\t\tinsertBefore(child, before) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.insertBefore(child, before);\n\t\t\t},\n\t\t\tremoveChild(child) {\n\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t_this._container.removeChild(child);\n\t\t\t}\n\t\t};\n\t}\n\n\t// Render our wrapping element into temp.\n\trender(\n\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t_this._temp\n\t);\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n", "import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\nimport {\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tuseEffect,\n\tuseId,\n\tuseImperativeHandle,\n\tuseLayoutEffect,\n\tuseMemo,\n\tuseReducer,\n\tuseRef,\n\tuseState\n} from 'preact/hooks';\nimport {\n\tuseDeferredValue,\n\tuseInsertionEffect,\n\tuseSyncExternalStore,\n\tuseTransition\n} from './index';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tlet isNonDashedType = type.indexOf('-') === -1;\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'translate' && value === 'no') {\n\t\t\tvalue = false;\n\t\t} else if (lowerCased[0] === 'o' && lowerCased[1] === 'n') {\n\t\t\tif (lowerCased === 'ondoubleclick') {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\tlowerCased === 'onchange' &&\n\t\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\tlowerCased = i = 'oninput';\n\t\t\t} else if (lowerCased === 'onfocus') {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (lowerCased === 'onblur') {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (ON_ANI.test(i)) {\n\t\t\t\ti = lowerCased;\n\t\t\t}\n\t\t} else if (isNonDashedType && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t},\n\t\t\tuseCallback,\n\t\t\tuseContext,\n\t\t\tuseDebugValue,\n\t\t\tuseDeferredValue,\n\t\t\tuseEffect,\n\t\t\tuseId,\n\t\t\tuseImperativeHandle,\n\t\t\tuseInsertionEffect,\n\t\t\tuseLayoutEffect,\n\t\t\tuseMemo,\n\t\t\t// useMutableSource, // experimental-only and replaced by uSES, likely not worth supporting\n\t\t\tuseReducer,\n\t\t\tuseRef,\n\t\t\tuseState,\n\t\t\tuseSyncExternalStore,\n\t\t\tuseTransition\n\t\t}\n\t}\n};\n", "import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport {\n\tuseInsertionEffect,\n\tstartTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tuseTransition\n} from './hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '18.3.1'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Check if the passed element is a Fragment node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isFragment(element) {\n\treturn isValidElement(element) && element.type === Fragment;\n}\n\n/**\n * Check if the passed element is a Memo node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isMemo(element) {\n\treturn (\n\t\t!!element &&\n\t\t!!element.displayName &&\n\t\t(typeof element.displayName === 'string' ||\n\t\t\telement.displayName instanceof String) &&\n\t\telement.displayName.startsWith('Memo(')\n\t);\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\n// compat to react-is\nexport const isElement = isValidElement;\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisFragment,\n\tisMemo,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tuseInsertionEffect,\n\tstartTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tuseTransition,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisElement,\n\tisFragment,\n\tisMemo,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n", "/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n */\nexport default function isDOMElement(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  if (!('nodeType' in obj)) return false;\n  return obj.nodeType === Node.ELEMENT_NODE;\n}", "import isDOMElement from './isDOMElement.js';\nfunction findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n  if (isDOMElement(element)) {\n    return element;\n  }\n  return null;\n}\nexport default findDOMElement;", "/**\n * Get the declared text direction for an element.\n */\n\nfunction getTextDirection(element) {\n  var _element;\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n  return (_element = element) == null ? void 0 : _element.dir;\n}\nexport default getTextDirection;", "/* eslint-disable class-methods-use-this */\n\n/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\n\nimport Translator from '@uppy/utils/lib/Translator';\n\n/**\n * DefinePluginOpts marks all of the passed AlwaysDefinedKeys as “required” or “always defined”.\n */\n\nexport default class BasePlugin {\n  constructor(uppy, opts) {\n    this.uppy = uppy;\n    this.opts = opts != null ? opts : {};\n  }\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return (plugins == null ? void 0 : plugins[this.id]) || {};\n  }\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: {\n        ...plugins,\n        [this.id]: {\n          ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n  setOptions(newOpts) {\n    this.opts = {\n      ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(undefined); // so that UI re-renders with new options\n    this.i18nInit();\n  }\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(undefined); // so that UI re-renders and we see the updated locale\n  }\n\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addTarget(plugin) {\n    throw new Error(\"Extend the addTarget method to add your plugin to another plugin's target\");\n  }\n  install() {}\n  uninstall() {}\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  update(state) {}\n\n  // Called after every state update, after everything's mounted. Debounced.\n  afterUpdate() {}\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\n/* eslint-disable class-methods-use-this */\nimport { render } from 'preact/compat';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from './BasePlugin.js';\n/**\n * Defer a frequent call to the microtask queue.\n */\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    latestArgs = args;\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null;\n        // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n        return fn(...latestArgs);\n      });\n    }\n    return calling;\n  };\n}\n\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n  getTargetPlugin(target // eslint-disable-line no-use-before-define\n  ) {\n    let targetPlugin;\n    if (typeof (target == null ? void 0 : target.addTarget) === 'function') {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n      if (!(targetPlugin instanceof UIPlugin)) {\n        // eslint-disable-next-line no-console\n        console.warn(new Error('The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.', {\n          cause: {\n            targetPlugin,\n            UIPlugin\n          }\n        }));\n      }\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target;\n      // Find the target plugin instance.\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n    return targetPlugin;\n  }\n\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If it’s an object — target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n  mount(target,\n  // eslint-disable-line no-use-before-define\n  plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n    if (targetElement) {\n      this.isTargetDOMEl = true;\n      // When target is <body> with a single <div> element,\n      // Preact thinks it’s the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root');\n\n      // API for plugins that require a synchronous rerender.\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.destroy\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state, uppyRootElement), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working — Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n      render(this.render(this.uppy.getState(), uppyRootElement), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement);\n\n      // Set the text direction if the page has not defined one.\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n    const targetPlugin = this.getTargetPlugin(target);\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + \"Please check that you're not specifying a React Component instead of a plugin. \" + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n    throw new Error(message);\n  }\n\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n  render(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  state,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  container) {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  }\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null || _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n      (_this$el = this.el) == null || _this$el.remove();\n    }\n    this.onUnmount();\n  }\n  onMount() {}\n  onUnmount() {}\n}\nexport default UIPlugin;"],
  "mappings": "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",
  "names": ["on", "fn", "i", "l", "e", "Symbol", "Symbol", "e", "Symbol", "debounce", "debounce", "throttle", "prettierBytes", "pattern", "e", "t", "i", "n", "id", "i", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "id", "m", "f", "prettierBytes", "match", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "ee", "throttle", "defaultOptions", "fn", "slice", "options", "vnodeId", "isValidElement", "rerenderQueue", "prevDebounce", "defer", "depthSort", "CAPTURE_REGEX", "eventClock", "eventProxy", "eventProxyCapture", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "isArray", "Array", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__c", "constructor", "__v", "__i", "__u", "Fragment", "props", "children", "BaseComponent", "context", "this", "getDomSibling", "vnode", "childIndex", "__", "__i", "sibling", "__k", "length", "__e", "type", "updateParentDomPointers", "i", "child", "__c", "base", "enqueueRender", "c", "__d", "rerenderQueue", "push", "process", "__r", "prevDebounce", "options", "debounceRendering", "defer", "component", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "l", "sort", "depthSort", "shift", "__v", "__P", "assign", "diff", "__n", "namespaceURI", "__u", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "result", "oldChildren", "EMPTY_ARR", "newChildrenLength", "constructNewChildrenArray", "EMPTY_OBJ", "ref", "applyRef", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "Array", "constructor", "String", "createVNode", "isArray", "undefined", "__b", "key", "findMatchingIndex", "unmount", "parentVNode", "contains", "insertBefore", "nodeType", "toChildArray", "out", "some", "x", "y", "setStyle", "style", "value", "setProperty", "IS_NON_DIMENSIONAL", "test", "dom", "name", "oldValue", "useCapture", "lowerCaseName", "o", "cssText", "replace", "CAPTURE_REGEX", "toLowerCase", "slice", "_attached", "eventClock", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "createEventProxy", "eventHandler", "_dispatched", "event", "tmp", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "isClassComponent", "provider", "componentContext", "renderHook", "count", "newType", "outer", "prototype", "render", "contextType", "__E", "doRender", "sub", "state", "__h", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "cloneNode", "then", "MODE_HYDRATE", "indexOf", "removeNode", "diffElementNodes", "diffed", "root", "cb", "call", "node", "map", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "localName", "document", "createTextNode", "createElementNS", "is", "__m", "data", "childNodes", "attributes", "__html", "innerHTML", "content", "hasRefUnmount", "current", "skipRemove", "r", "componentWillUnmount", "replaceNode", "documentElement", "createElement", "firstChild", "slice", "EMPTY_ARR", "options", "__e", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "__", "__c", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "undefined", "BaseComponent", "prototype", "update", "callback", "s", "this", "__s", "state", "assign", "props", "__v", "_sb", "push", "enqueueRender", "forceUpdate", "__h", "render", "Fragment", "rerenderQueue", "defer", "Promise", "then", "bind", "resolve", "setTimeout", "depthSort", "a", "b", "__b", "process", "__r", "CAPTURE_REGEX", "eventClock", "eventProxy", "createEventProxy", "eventProxyCapture", "i", "currentIndex", "currentComponent", "previousComponent", "prevRaf", "afterPaintEffects", "options", "_options", "oldBeforeDiff", "__b", "oldBeforeRender", "__r", "oldAfterDiff", "diffed", "oldCommit", "__c", "oldBeforeUnmount", "unmount", "oldRoot", "__", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "__H", "__h", "forEach", "invokeCleanup", "invokeEffect", "e", "options", "__e", "__v", "__b", "vnode", "currentComponent", "oldBeforeDiff", "__", "parentDom", "__k", "__m", "oldRoot", "__r", "oldBeforeRender", "currentIndex", "hooks", "__c", "previousComponent", "hookItem", "__N", "_pendingArgs", "diffed", "oldAfterDiff", "c", "length", "push", "prevRaf", "requestAnimationFrame", "afterNextFrame", "commitQueue", "some", "filter", "cb", "oldCommit", "unmount", "oldBeforeUnmount", "hasErrored", "s", "HAS_RAF", "callback", "raf", "done", "clearTimeout", "timeout", "cancelAnimationFrame", "setTimeout", "hook", "comp", "cleanup", "assign", "obj", "props", "i", "shallowDiffers", "a", "b", "useLayoutEffect", "PureComponent", "p", "c", "this", "props", "context", "PureComponent", "prototype", "Component", "isPureReactComponent", "shouldComponentUpdate", "props", "state", "shallowDiffers", "this", "oldDiffHook", "options", "__b", "vnode", "type", "__f", "ref", "REACT_FORWARD_SYMBOL", "Symbol", "for", "oldCatchError", "options", "__e", "error", "newVNode", "oldVNode", "errorInfo", "then", "component", "vnode", "__", "__c", "__k", "oldUnmount", "unmount", "detachedClone", "detachedParent", "parentDom", "__H", "forEach", "effect", "assign", "__P", "map", "child", "removeOriginal", "originalParent", "__v", "appendChild", "Suspense", "this", "__u", "_suspenders", "__b", "suspended", "__a", "SuspenseList", "this", "_next", "_map", "options", "unmount", "vnode", "component", "__c", "__R", "__u", "type", "oldUnmount", "Suspense", "prototype", "Component", "promise", "suspendingVNode", "suspendingComponent", "c", "_suspenders", "push", "resolve", "suspended", "__v", "resolved", "onResolved", "onSuspensionComplete", "state", "__a", "suspendedVNode", "__k", "removeOriginal", "__P", "__O", "setState", "__b", "pop", "forceUpdate", "then", "componentWillUnmount", "render", "props", "detachedParent", "document", "createElement", "detachedComponent", "detachedClone", "fallback", "Fragment", "children", "list", "child", "node", "delete", "revealOrder", "size", "length", "SuspenseList", "prototype", "Component", "__a", "child", "list", "this", "delegated", "suspended", "__v", "node", "_map", "get", "unsuspend", "wrappedUnsuspend", "props", "revealOrder", "push", "resolve", "render", "_next", "Map", "children", "toChildArray", "reverse", "i", "length", "set", "componentDidUpdate", "componentDidMount", "_this", "forEach", "REACT_ELEMENT_TYPE", "Symbol", "for", "CAMEL_PROPS", "ON_ANI", "CAMEL_REPLACE", "IS_DOM", "document", "onChangeInputType", "type", "test", "vnode", "parent", "callback", "__k", "textContent", "preactRender", "__c", "Component", "prototype", "isReactComponent", "forEach", "key", "Object", "defineProperty", "configurable", "get", "this", "set", "v", "writable", "value", "oldEventHook", "options", "event", "empty", "isPropagationStopped", "cancelBubble", "isDefaultPrevented", "defaultPrevented", "e", "persist", "nativeEvent", "currentComponent", "classNameDescriptorNonEnumberable", "enumerable", "class", "oldVNodeHook", "vnode", "type", "props", "normalizedProps", "isNonDashedType", "indexOf", "i", "IS_DOM", "lowerCased", "toLowerCase", "onChangeInputType", "ON_ANI", "test", "CAMEL_PROPS", "replace", "CAMEL_REPLACE", "multiple", "Array", "isArray", "toChildArray", "children", "child", "selected", "defaultValue", "className", "$$typeof", "REACT_ELEMENT_TYPE", "oldBeforeRender", "__r", "__c", "oldDiffed", "diffed", "dom", "__e", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "fn", "p"]
}
