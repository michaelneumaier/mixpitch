{
  "version": 3,
  "sources": ["../../@uppy/file-input/lib/locale.js", "../../@uppy/file-input/lib/FileInput.js"],
  "sourcesContent": ["export default {\n  strings: {\n    chooseFiles: 'Choose files'\n  }\n};", "import { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport toArray from '@uppy/utils/lib/toArray';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.1.3\"\n};\nimport locale from './locale.js';\nconst defaultOptions = {\n  pretty: true,\n  inputName: 'files[]'\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/files\n\nexport default class FileInput extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    this.input = null;\n    this.id = this.opts.id || 'FileInput';\n    this.title = 'File Input';\n    this.type = 'acquirer';\n    this.defaultLocale = locale;\n    this.i18nInit();\n    this.render = this.render.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  addFiles(files) {\n    const descriptors = files.map(file => ({\n      source: this.id,\n      name: file.name,\n      type: file.type,\n      data: file\n    }));\n    try {\n      this.uppy.addFiles(descriptors);\n    } catch (err) {\n      this.uppy.log(err);\n    }\n  }\n  handleInputChange(event) {\n    this.uppy.log('[FileInput] Something selected through input...');\n    const files = toArray(event.currentTarget.files || []);\n    this.addFiles(files);\n\n    // Clear the input so that Chrome can detect file section when the same file is repeatedly selected\n    // (see https://github.com/transloadit/uppy/issues/768#issuecomment-2264902758)\n    // eslint-disable-next-line no-param-reassign\n    event.currentTarget.value = '';\n  }\n  handleClick() {\n    this.input.click();\n  }\n  render() {\n    var _restrictions$allowed;\n    /* http://tympanus.net/codrops/2015/09/15/styling-customizing-file-inputs-smart-way/ */\n    const hiddenInputStyle = {\n      width: '0.1px',\n      height: '0.1px',\n      opacity: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      zIndex: -1\n    };\n    const {\n      restrictions\n    } = this.uppy.opts;\n    return h(\"div\", {\n      className: \"uppy-FileInput-container\"\n    }, h(\"input\", {\n      className: \"uppy-FileInput-input\",\n      style: this.opts.pretty ? hiddenInputStyle : undefined,\n      type: \"file\",\n      name: this.opts.inputName,\n      onChange: this.handleInputChange,\n      multiple: restrictions.maxNumberOfFiles !== 1,\n      accept: (_restrictions$allowed = restrictions.allowedFileTypes) == null ? void 0 : _restrictions$allowed.join(', '),\n      ref: input => {\n        this.input = input;\n      }\n    }), this.opts.pretty && h(\"button\", {\n      className: \"uppy-FileInput-btn\",\n      type: \"button\",\n      onClick: this.handleClick\n    }, this.i18n('chooseFiles')));\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n  uninstall() {\n    this.unmount();\n  }\n}\nFileInput.VERSION = packageJson.version;"],
  "mappings": ";;;;;;;;;;AAAA,IAAO,iBAAQ;AAAA,EACb,SAAS;AAAA,IACP,aAAa;AAAA,EACf;AACF;;;ACCA,IAAM,cAAc;AAAA,EAClB,WAAW;AACb;AAEA,IAAM,iBAAiB;AAAA,EACrB,QAAQ;AAAA,EACR,WAAW;AACb;AAIA,IAAqB,YAArB,cAAuC,iBAAS;AAAA,EAC9C,YAAY,MAAM,MAAM;AACtB,UAAM,MAAM;AAAA,MACV,GAAG;AAAA,MACH,GAAG;AAAA,IACL,CAAC;AACD,SAAK,QAAQ;AACb,SAAK,KAAK,KAAK,KAAK,MAAM;AAC1B,SAAK,QAAQ;AACb,SAAK,OAAO;AACZ,SAAK,gBAAgB;AACrB,SAAK,SAAS;AACd,SAAK,SAAS,KAAK,OAAO,KAAK,IAAI;AACnC,SAAK,oBAAoB,KAAK,kBAAkB,KAAK,IAAI;AACzD,SAAK,cAAc,KAAK,YAAY,KAAK,IAAI;AAAA,EAC/C;AAAA,EACA,SAAS,OAAO;AACd,UAAM,cAAc,MAAM,IAAI,WAAS;AAAA,MACrC,QAAQ,KAAK;AAAA,MACb,MAAM,KAAK;AAAA,MACX,MAAM,KAAK;AAAA,MACX,MAAM;AAAA,IACR,EAAE;AACF,QAAI;AACF,WAAK,KAAK,SAAS,WAAW;AAAA,IAChC,SAAS,KAAK;AACZ,WAAK,KAAK,IAAI,GAAG;AAAA,IACnB;AAAA,EACF;AAAA,EACA,kBAAkB,OAAO;AACvB,SAAK,KAAK,IAAI,iDAAiD;AAC/D,UAAM,QAAQ,gBAAQ,MAAM,cAAc,SAAS,CAAC,CAAC;AACrD,SAAK,SAAS,KAAK;AAKnB,UAAM,cAAc,QAAQ;AAAA,EAC9B;AAAA,EACA,cAAc;AACZ,SAAK,MAAM,MAAM;AAAA,EACnB;AAAA,EACA,SAAS;AACP,QAAI;AAEJ,UAAM,mBAAmB;AAAA,MACvB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,UAAU;AAAA,MACV,UAAU;AAAA,MACV,QAAQ;AAAA,IACV;AACA,UAAM;AAAA,MACJ;AAAA,IACF,IAAI,KAAK,KAAK;AACd,WAAO,EAAE,OAAO;AAAA,MACd,WAAW;AAAA,IACb,GAAG,EAAE,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,OAAO,KAAK,KAAK,SAAS,mBAAmB;AAAA,MAC7C,MAAM;AAAA,MACN,MAAM,KAAK,KAAK;AAAA,MAChB,UAAU,KAAK;AAAA,MACf,UAAU,aAAa,qBAAqB;AAAA,MAC5C,SAAS,wBAAwB,aAAa,qBAAqB,OAAO,SAAS,sBAAsB,KAAK,IAAI;AAAA,MAClH,KAAK,WAAS;AACZ,aAAK,QAAQ;AAAA,MACf;AAAA,IACF,CAAC,GAAG,KAAK,KAAK,UAAU,EAAE,UAAU;AAAA,MAClC,WAAW;AAAA,MACX,MAAM;AAAA,MACN,SAAS,KAAK;AAAA,IAChB,GAAG,KAAK,KAAK,aAAa,CAAC,CAAC;AAAA,EAC9B;AAAA,EACA,UAAU;AACR,UAAM;AAAA,MACJ;AAAA,IACF,IAAI,KAAK;AACT,QAAI,QAAQ;AACV,WAAK,MAAM,QAAQ,IAAI;AAAA,IACzB;AAAA,EACF;AAAA,EACA,YAAY;AACV,SAAK,QAAQ;AAAA,EACf;AACF;AACA,UAAU,UAAU,YAAY;",
  "names": []
}
